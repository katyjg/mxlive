function rounded(a){let b=Math.pow(10,-Math.ceil(Math.log(Math.abs(a),10)));return Math.round(a*b)/b}function choose(a){let b=Math.floor(Math.random()*a.length);return a[b]}Array.cleanspace=function(c,d,e){var f=Math.ceil;let g=[],h=rounded((d-c)/8);e=e||7,c=f(c/h)*h,d=Math.floor(d/h)*h;let i=f((d-c)/e/h)*h;for(g[0]=c;c+i<=d;)g[g.length]=c+=i;return g};function inv_sqrt(b){var a=Math.pow;let c=[];return $.each(b,function(b,d){c[b]=a(d,-.5)}),c}function renderMarkdown(a){let b=new showdown.Converter;return b.makeHtml(a)}var figureTypes=["histogram","lineplot","barchart","pie","gauge"],contentTemplate=_.template("<div id=\"entry-<%= id %>\" <% let style = entry.style || \"\"; %> class=\"section-entry <%= style %>\" >   <% if ((entry.title) &! (entry.kind))  { %>       <h4><%= entry.title %></h4>   <% } %>   <% if (entry.description) { %>       <div class=\"description\"><%= renderMarkdown(entry.description) %></div>   <% } %>   <% if ((entry.kind === \"table\") && (entry.data)) { %>       <%= tableTemplate({id: id, entry: entry}) %>   <% } else if (figureTypes.includes(entry.kind)) { %>       <figure id=\"figure-<%= id %>\" data-chart='<%= JSON.stringify(entry) %>' >       <% if (entry.title) { %>           <figcaption class=\"text-center\"><%= entry.title %></figcaption>       <% } %>       </figure>   <% }%></div>"),sectionTemplate=_.template("<section id=\"section-<%= id %>\" <% let style = section.style || \"col-12\"; %>       class=\"<%= style %>\">       <%  if (section.title)  {%>       <h3 class=\"section-title col-12\"><%= section.title %></h3>       <% } %>       <%  if (section.description)  {%>       <%     let html = markdown.makeHTML(section.description); %>       <div class=\"description\"><%= html %></div>       <% } %>     <% _.each(section.content, function(entry, j){ %><%= contentTemplate({id: id+\"-\"+j, entry: entry}) %><% }); %></section>"),tableTemplate=_.template("<table id=\"table-<%= id %>\" class=\"table table-sm table-hover\"><%   if (entry.header.includes(\"row\")) { %>   <thead><tr>       <% _.each(entry.data[0], function(cell, i){ %>       <th><%= cell %></th>       <% }); %>   </tr></thead><% } %><tbody><% _.each(entry.data, function(row, j){ %>   <% if ((!entry.header.includes(\"row\")) || (j>0)) { %>       <tr>       <% _.each(row, function(cell, i){ %>           <% if (entry.header.includes(\"column\") && (i==0)) { %>               <th><%= cell %></th>           <% } else { %>               <td><%= cell %></td>           <% } %>       <% }); %>       </tr>   <% } %><% }); %></tbody></table>");(function(a){a.fn.liveReport=function(b){let c=a(this),d={data:{},scheme:d3.schemeSet2},e=a.extend(d,b);c.addClass("report-viewer"),a.each(e.data.details,function(a,b){c.append(sectionTemplate({id:a,section:b}))}),c.find("figure").each(function(){let b=a(this).data("chart");if("histogram"===b.kind){let c=[],d=b.data["x-label"];a.each(b.data.data,function(b,e){let f=e[d];a.each(e,function(a,b){let e={};e.name=a,e.value=b,e[d]=f,c.push(e)})}),a(this).height(9*a(this).width()/16);d3plus.viz().container("#"+a(this).attr("id")).data(c).type("bar").id("name").x(d).y("value").draw()}})}})(jQuery);