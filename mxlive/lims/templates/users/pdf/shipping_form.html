{% load static %}
{% load settings %}

<div id="shipping-form" style="font-size: 130% !important;">
    <div class="container">
        <div class="row d-flex flex-row justify-content-between">
            <div class="flex-grow-0">
                <span><img height="80" alt="image" src="{% get_setting 'PROJECT_DIR' %}{% static "img/bl_logo.svg" %}"/></span>
            </div>
            <h1 class="flex-grow-1 text-center">Shipping Order</h1>
            <div class="flex-grow-0"><strong>FORM</strong><br><small>Auto-generated by MxLIVE<br>Based on: CLS Doc. 0.11.1.19 Rev. 7</small></div>
        </div>
    </div>
    <br>

    <table class="table table-sm text-right mb-1" style="width: 100%; margin-right: 2rem; line-height: 105%;">
        <tr><td style="width: 150px;">Shipper's Name:</td><td colspan="3" class="input text-left" style="width: 400px;">{{ sender.staff.first_name }} {{ sender.staff.last_name }}</td>
            <td colspan="2" style="width: 75px;"></td>
            <td>DATE</td><td colspan="2" class="input">{% now "F d, Y" %}</td></tr>
        <tr><td>CLSI Department:</td><td colspan="3" class="input text-left">{{admin_project.department|cut:"None"|default:""}}</td>
            <td colspan="5"></td></tr>
        <tr><td>Phone:</td><td style="width: 250px;" class="input text-left">{{ sender.staff.contact_phone }}</td>
            <td class="border-top border-white" colspan="7"><small>(If this is a project GL Account complete Code Code, WP, & Job ID information)</small></td></tr>
        <tr><td>GL Account #:</td><td class="input"></td>
            <td style="width: 100px;">Cost Code:</td><td colspan="2" style="width: 150px;" class="input"></td>
            <td>WP:</td><td class="input"></td>
            <td>Job ID:</td><td class="input" style="width: 100px;"></td></tr>
    </table>

    <table class="table table-sm text-right border-black-top border-black-right mb-0 pb-0" style="width: 100%; margin-right: 2rem; border-left: 1px solid black; border-right: 1px solid black; line-height: 105%;">
        <tr class="bg-light"><td colspan="4" style="width: 100%;" class="text-left font-weight-bold">Shipping Information: (Consignee)</td></tr>
        <tr><td style="width: 200px;">Company Name:</td>
            <td colspan="3" class="input text-left" style="border-right: 1px solid black !important;">{{ project.department|cut:"None"|default:"" }}, {{ project.organisation|cut:"None"|default:"" }}</td></tr>
        <tr><td style="width: 200px;">Street Address:</td>
            <td colspan="3" class="input text-left" style="border-right: 1px solid black !important;">{{ project.address|cut:"None"|default:"" }}</td></tr>
        <tr><td>City:</td>
            <td style="width: 300px;" class="input text-left">{{ project.city|cut:"None"|default:"" }}</td>
            <td>Province / State:</td>
            <td style="width: 250px; border-right: 1px solid black !important;" class="input text-left">{{ project.province|cut:"None"|default:"" }}</td></tr>
        <tr><td>Country:</td>
            <td class="input text-left">{{ project.country|cut:"None"|default:"" }}</td>
            <td>Postal Code:</td>
            <td class="input text-left" style="border-right: 1px solid black !important;">{{ project.postal_code|cut:"None"|default:"" }}</td></tr>
        <tr><td>Att: (Contact Person):</td>
            <td class="input text-left">{{ project.contact_person|cut:"None"|default:"" }}</td>
            <td>Phone Number</td>
            <td class="input text-left" style="border-right: 1px solid black !important;">{{ project.contact_phone|cut:"None"|default:"" }}</td></tr>
        <tr><td>Contact Person Email:</td>
            <td class="input text-left">{{ project.contact_email|cut:"None"|default:"" }}</td>
            <td>VAT Tax Number</td>
            <td class="input" style="border-right: 1px solid black !important;"></td></tr>
        <tr><td>CLSI Proposal Number:</td>
            <td class="input"></td>
            <td class="small">EIN Tax Number (USA):</td>
            <td class="input" style="border-right: 1px solid black !important;"></td></tr>
        <tr><td colspan="4"></td></tr>
        <tr><td>Consignee's Courier:</td>
            <td class="input font-weight-bold text-center">{{ project.carrier.name|cut:"None"|default:"" }}</td>
            <td>Courier Account #:</td>
            <td class="input text-center font-weight-bold" style="border-right: 1px solid black !important;">{{ project.account_number|cut:"None"|default:"" }}</td></tr>
        <tr><td colspan="4"></td></tr>

        <tr class="bg-light"><td class="py-1">On Loan <span class="text-large">&#x25A1;</span></td>
            <td class="py-1">Chargeable Repair <span class="text-large">&#x25A1;</span></td>
            <td class="py-1">Return to Owner <span class="text-large">&#9632;</span></td>
            <td class="py-1 border-left border-top text-left" style="border-right: 1px solid black !important;">Other:</td>
        </tr>
        <tr class="bg-light"><td class="py-1">Return of Loan <span class="text-large">&#x25A1;</span></td>
            <td class="py-1">Warranty Repair <span class="text-large">&#x25A1;</span></td>
            <td class="py-1">US Goods Returned <span class="text-large">&#x25A1;</span></td>
            <td class="py-1 border-left"></td>
        </tr>
        <tr class="bg-light"><td class="py-1">Return to Vendor <span class="text-large">&#x25A1;</span></td>
            <td class="py-1">RMA# <input style="border-radius: 0; border-style: solid;" class="w-25 border-secondary border"/></td>
            <td class="py-1">Other (explain) <span class="text-large">&#x25A1;</span></td>
            <td class="py-1 border-left"></td>
        </tr>
    </table>
    <table class="table table-bordered table-sm text-right border-black-left border-black-right mb-0 pb-0" style="width: 100%; margin-right: 2rem; line-height: 105%;">
        <tr><td class="text-center" style="width: 50px; border-left: 1px solid black !important;">Qty</td>
            <td class="text-center small" style="width: 150px; border-left: 1px solid black !important; line-height: 90%;"><small>Select Unit of Measurement</small></td>
            <td class="text-center align-middle" colspan="2">Model # / Serial # / Description</td>
            <td style="width: 100px; line-height: 90%;" class="text-center small"><small>Country of Manufacture</small></td>
            <td style="width: 100px; border-right: 1px solid black !important;" class="text-center align-middle">Value</td></tr>
        {% if shipment %}<tr><td class="input text-center" style="border-left: 1px solid black !important;">{{ num_packages|default:"1" }}</td>
            <td class="input text-center" style="border-left: 1px solid black !important;">Each</td>
            <td colspan="2" class="input text-left">Non-Hazardous Frozen Protein Samples in Dry Shipping Dewar</td>
            <td class="input text-center">{{ project.country|cut:"None"|default:"" }}</td>
            <td class="input text-right" style="border-right: 1px solid black !important;">$200</td></tr>
        {% endif %}
        {% for component in shipment.components.all %}
            <tr><td class="input text-center" style="border-left: 1px solid black !important;">1</td>
                <td class="input text-center" style="border-left: 1px solid black !important;">Each</td>
                <td colspan="2" class="input text-left">{{ component.kind }}</td>
                <td class="input text-center">{{ project.country|cut:"None"|default:"" }}</td>
                <td class="input text-right" style="border-right: 1px solid black !important;">$100</td></tr>
        {% endfor %}
        {% if shipment %}{% widthratio shipment.components.count|add:"1" 1 -1 as filled_lines %}
        {% else %}{% widthratio 0 1 -1 as filled_lines %}{% endif %}
        {% with filled_lines|add:"9" as empty_lines %}
        {% with ''|center:empty_lines as range %}
            {% for _ in range %}
                <tr><td class="input" style="border-left: 1px solid black !important;">&nbsp;</td>
                    <td class="input" style="border-left: 1px solid black !important;"></td><td colspan="2" class="input"></td><td class="input"></td>
                    <td class="input" style="border-right: 1px solid black !important;"></td></tr>
            {% endfor %}
        {% endwith %}
        {% endwith %}
        <tr><td class="input text-center" style="border-left: 1px solid black !important;">{% if shipment %}{{ shipment.components.count|add:"1" }}{% endif %}</td>
            <td class="input text-center font-weight-normal">Qty Total</td>
            <td></td>
            <td class="input text-left font-weight-normal">H.S. Code</td>
            <td class="input">&nbsp;</td>
            <td class="input" style="border-right: 1px solid black !important;">&nbsp;</td></tr>
    </table>

    <table class="table table-xsm bg-light mb-1" style="border: 1px solid black;">
        <tr><td colspan="8" class="font-weight-bold text-left" style="height: 33px !important;">
            Any Hazards? &emsp; No &#9632; Yes &#x25A1;  &emsp; If Yes indicate below:</td>
            <td class="bg-white border-black-right" style="width: 100px; border-left: 1px solid #ddd !important;">Total</td>
            <td class="input text-right bg-white" style="width: 100px; border-bottom: 1px solid black !important; border-right: 1px solid black !important">
                {% widthratio shipment.components.count 1 100 as component_cost %}
                {% if shipment %}${{ component_cost|add:"200" }}{% endif %}
            </td></tr>
        <tr><td class="text-right small" style="width: 180px;"><small>Explosives</small></td><td>&#x25A1;</td>
            <td class="text-right small" style="width: 150px;"><small>Flammable Liquid</small></td><td>&#x25A1;</td>
            <td class="text-right small" style="width: 130px;"><small>Poisonous Material</small></td><td>&#x25A1;</td>
            <td class="text-right small" style="width: 200px;"><small>Spontaneous Combustible</small></td><td>&#x25A1;</td>
            <td class="bg-white text-right small" style="border-left: 1px solid #ddd !important;">CAD$ &#9632;</td>
            <td class="bg-white text-right small border-black-right">Euro&euro; &#x25A1;</td>
        </tr>
        <tr><td class="text-right small"><small>Dangerous-When-Wet</small></td><td>&#x25A1;</td>
            <td class="text-right small"><small>Flammable Solids</small></td><td>&#x25A1;</td>
            <td class="text-right small"><small>Poisonous Gas</small></td><td>&#x25A1;</td>
            <td class="text-right small"><small>Non-flammable Compressed Gas</small></td><td>&#x25A1;</td>
            <td class="bg-white text-right small" style="border-left: 1px solid #ddd !important;">USA$ &#x25A1;</td>
            <td class="bg-white text-right small border-black-right">GBP &pound; &#x25A1;</td>
        </tr>
        <tr><td class="text-right small"><small>Corrosive Material</small></td><td>&#x25A1;</td>
            <td class="text-right small"><small>Combustible Liquid</small></td><td>&#x25A1;</td>
            <td class="text-right small"><small>Oxidizer</small></td><td>&#x25A1;</td>
            <td class="text-right small"><small>Flammable Compressed Gas</small></td><td>&#x25A1;</td>
            <td class="bg-white text-right small" style="border-left: 1px solid #ddd !important;">Yen&yen; &#x25A1;</td>
            <td class="bg-white text-right small border-black-right">CHF&#8355; &#x25A1;</td>
        </tr>
        <tr><td class="text-right small"><small>Organic Peroxides</small></td><td>&#x25A1;</td>
            <td class="text-right small"><small>Infectious Substance</small></td><td>&#x25A1;</td>
            <td class="text-right"></td><td></td>
            <td class="text-right small"><small>Radioactive Material</small></td><td>&#x25A1;</td>
            <td class="bg-white text-right small" style="border-left: 1px solid #ddd !important; border-bottom: 1px solid #ddd !important;">Other &#x25A1;</td>
            <td class="bg-white border-black-right" style="border-bottom: 1px solid #ddd !important;"></td>
        </tr>
        <tr><td colspan="4" class="text-center text-condensed small" style="color: red;"><small><strong>** Supply Electronic PDF or SDS Sheet For Each Element Shipped **</strong></small></td>
            <td class="text-right small"><small>Other Hazard</small></td><td colspan="2" style="border: 1px solid #ddd !important;"></td><td>&#x25A1;</td>
            <td colspan="2" class="text-center border-black-right"></td>
        </tr>
        <tr><td class="border-black-right py-0" colspan="10"><hr/></td></tr>
        <tr><td class="text-right"><strong>Batteries</strong></td><td>&#x25A1;</td><td colspan="3">Enter type of battery below</td><td></td>
            <td class="text-center border-black-right small" colspan="4"><small>The Watt-hour (Wh) of a cell or batttery is required to ship<br><br>Enter Voltage (V) & Amp-Hours (Ah) to calculate Watt-hours (Wh)<br><br>(Wh) may also be indicated on Cell or Battery</small></td>
        </tr>
        <tr><td></td><td colspan="4"><span style="border: 1px solid #ddd !important;">&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;</span></td><td></td>
        <td class="text-center" colspan="4"><span style="border: 1px solid #ddd !important;">&emsp;&emsp;&emsp;&emsp;</span> (V) <span style="border: 1px solid #ddd !important;">&emsp;&emsp;&emsp;&emsp;</span> (Ah) = <span style="border: 1px solid #ddd !important;">&emsp;&emsp;&emsp;&emsp;</span> (Wh) </td></tr>
        <tr><td colspan="10"></td></tr>
    </table>

    <table class="table table-xsm text-right border-dark border-bottom" style="line-height: 105%;">
        <tr><td></td><td class="font-weight-bold text-sm text-center">Package size L x W x H</td><td class="font-weight-bold text-sm text-center">Weight</td><td colspan="3"></td></tr>
        <tr><td class="border border-dark border-bottom-0">Package 1</td><td class="border border-dark"></td><td class="border border-dark"></td>
            <td class="border border-dark border-right-0"><small>Measurement&emsp;</small>Inch &#x25A1;</td><td class="border border-dark border-left-0">Cm &#x25A1;</td>
            <td style="width: 200px;" rowspan="4" class="border border-dark"></td></tr>
        <tr><td class="border border-dark border-bottom-0 border-top-0">Package 2</td><td class="border border-dark"></td><td class="border border-dark"></td>
            <td colspan="2" class="border-secondary border-bottom text-left">Total Shipment Weight</td></tr>
        <tr><td class="border border-dark border-bottom-0 border-top-0">Package 3</td><td class="border border-dark"></td><td class="border border-dark"></td>
            <td class="border-secondary border-right"></td><td class="">KGS &#x25A1;</td></tr>
        <tr><td class="border border-dark border-top-0">Package 4</td><td class="border border-dark"></td><td class="border border-dark"></td>
            <td class="border-secondary border-right"></td><td>LBS &#x25A1;</td></tr>
    </table>

    <h5 class="text-center">Canadian Light Source &middot; 44 Innovation Boulevard &middot; University of Saskatchewan, Saskatoon, SK Canada &middot; S7N 2V3</h5>
</div>
