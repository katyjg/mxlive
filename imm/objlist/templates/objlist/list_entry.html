 <tr {% if link %}
        class="link-row {{ row_state }} droppable droppable-add parent-stop {{ type|lower }} {{ single }}"
         {% if object.is_strategy_type %}
            rel="../result/{{ object.pk }}/"
         {% else %}
            rel="{{ handler }}{{ object.pk }}/"
         {% endif %}
     {% endif %} 
     accept="{{object.accept}}"
     title="{{ object.comments|escape }}"
     id="{{object.id}}">
    <td class="first {%if can_prioritize %}prioritize{% endif %}"></td>
    {# should add a check here for maximum size. Don't want something like a long label ruining everything #}
    {% load truncate_filters %}
    {% for field in fields %}
    	{% if field == object.id %}
    		<td>{{ object.identity }}</td>
    	{% else %}
            <td>{{ field|truncate_chars:30 }}</td>
    	{% endif %}
    {% endfor %}
    {% if form %}
        <td><input type="checkbox" name="{{object.get_form_field}}" value="{{object.pk}}" {{checked|yesno:"checked='checked',,"}}/></td>
    {% endif %}
 </tr>
<tr id="{{object.id}}" accept="{{object.accept}}" class='expander hidden parent-stop {{ type|lower }} nodrag' rel="{{ handler }}{{ object.pk }}/">
    {# We add 2 because the priority field isn't included in fields|length, and there is a spacer at the beginning #}
    <td colspan="{{ fields|length|add:"2" }}">
        This should be replaced by an AJAX query when the tr.link-row is clicked
    </td>
</tr>

