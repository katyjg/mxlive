{% load markup %}
<tr {% if link %}
        class="link-row redirect {{ row_state }} {{ type|lower }}"
        href="{{ handler }}{{ object.pk }}/"
        title="Go to {{type}} {{object.pk}}"
    {% else %}{% if modal_link %}
        class="link-row modal {{ row_state }} {{ type|lower }}"        
        href="{{handler}}{{object.pk}}/"
        {% if object.staff_comments %}
        title="{{object.staff_comments|default:''"
        {% else %}
        title="Show dataset frames"
        {% endif %}
    {% else %}{% if modal_edit %}
        class="link-row {{ row_state }} {{ type|lower }}"       
    {% else %}
        class="{{ row_state }} {{ type|lower }}"
        {% if object.description %}title="{{object.description}}"{% endif %}
    {% endif %}{% endif %}{% endif %}>
    {% if request.user.is_superuser %} 
        <td class="first"></td>
    {% endif %}

    {# should add a check here for maximum size. Don't want something like a long label ruining everything #}
    {% load truncate_filters %}
    
    {% for field in fields %}
 		<td {% if modal_edit %}
        class="modal-{% if modal_upload %}upload-{% endif %}form"        
        href="{{handler}}{{object.pk}}/edit/"
        title="Edit {{object.pk}}"
    {% endif %}>
     	{% if field == object.id %}
            {{ object.identity }}
    	{% else %}
        {% if field|make_list == object.score|make_list %}
            {{ field|floatformat:3 }}
    	{% else %}
    		{{ field|truncate_chars:22 }}
    	{% endif %}
    	{% endif %}
        </td>
    {% endfor %}

    {% if form %}
        <td><input type="checkbox" name="{{object.get_form_field}}" value="{{object.pk}}" {{checked|yesno:"checked='checked',,"}}/></td>
    {% endif %}
    {% if delete_inline %}
        {% if object.is_deletable %}
            <td class="action">
                <a href="{{ handler }}{{object.pk}}/delete/" class="delete modal-form delete-tool" title="Delete"></a>
            </td>
        {% else %}
            <td class="action">
            </td>       
        {% endif %}
        
    {% endif %}
</tr>

