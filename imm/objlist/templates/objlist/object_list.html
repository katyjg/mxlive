{% load objlist %}

<div class="object-list">
    <div class="list-tools">
        {% if ol.is_paginated %}
            {% include "objlist/pagination.html" %}
        {% endif %}
        {% if not ol.all_shown %}
            Showing {{ol.result_count}} of {{ol.total_count}} total | <a href="?all=1">Show all</a>
        {% endif %}
        {% if form.errors %}
            <div class="error">{{form.primary_error_message}}</div>
        {% endif %}
        {% if form %}
            <form method="post">{% csrf_token %}
        {% endif %}
    </div>

    <table cellspacing="0" cellpadding="2" border="0" width="100%" id="objlist-list-table">
        <thead>
            <tr class="header">
                {% if request.user.is_superuser %}
                    <th class="first"></th>
                {% endif %}
                {% for header in ol.header_list %}<th{{ header.class_attrib }}>
                    {% if header.sortable %}<a class="header" href="{{ handler }}{{ header.url }}">{% endif %}
                    {{ header.text|capfirst }}
                    {% if header.sortable %}</a>{% endif %}</th>
                {% endfor %}
                {% if form %}
                    <th{{ header.class_attrib }}>Select</th>
                {% endif %}
                {% if not is_individual %}
                    {% comment %}Put this back in once delete functionality is finished for cocktails and crystal forms.
                    <th></th>
                    {% endcomment %}
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% if ol.object_list %}
                {% for object in ol.object_list %}
                    {% list_entry object handler forloop.counter %}
                {% endfor %}
            {% else %}
                <tr><td colspan="20" align="center" style="padding: 3em; background: #fff; color: #999;">No {{ol.object_type}} to show</td></tr>
            {% endif %}
        </tbody>
    </table>
    {% if ol.object_list|length > 20 %}
    <div class="list-tools">
        {% if ol.is_paginated %}
            {% include "objlist/pagination.html" %}
        {% endif %}
    </div>
    {% endif %}
</div>

{% if form %}
    <input style="float: right; margin-top: 5px;" type="submit" value="Refine Runlist >>"></input>
    </form>
{% endif %}

{% include "lims/entries/popup.html" %}
