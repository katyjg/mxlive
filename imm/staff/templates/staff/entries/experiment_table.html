{% load runlist_extras %}

<div class="object-list">
    <h3>Experiments in Runlist &ldquo;{{object.name}}&rdquo;</h3>
    <table cellspacing="0" cellpadding="2" border="0" width="100%" id="crystal-list-table">
        <thead>
            <tr class="header">
             	<th>Project</th>
             	<th>Experiment</th>
                <th>Type</th>
                <th>Plan</th>
                <th>Num Crystals Present</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
        {% if experiments %}
            {% for experiment in experiments %}
                <tr class="{% cycle 'odd' 'even'%} link-row modal"
                    title="Go to Experiment {{experiment.name}}"
                    redirect="{% url lims-experiment-detail experiment.pk %}">
                    <td>{{ experiment.json_dict.project_name }}</td>
                    <td>{{ experiment.name }}</td>
                    <td>{{ experiment.json_dict.type }}</td>
                    <td>{{ experiment.json_dict.plan }}</td>
                    <td>{{ experiment.get_crystals|in_runlist:object.containers }}/{{ experiment.num_crystals }}</td>
                    <td>{{ experiment.get_exp_status_display }}</td>
                </tr>
            {% endfor %}
        {% else %}                
                <tr><td colspan="20" align="center" style="padding: 3em; background: #fff; color: #999;">No experiments associated with this runlist</td></tr>
        {% endif %}           
        </tbody>
    </table>
</div>
