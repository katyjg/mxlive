{% load runlist_extras %}

<div class="object-list">
    <h3>Experiments in Runlist &ldquo;{{object.name}}&rdquo;</h3>
    <table cellspacing="0" cellpadding="2" border="0" width="100%" id="crystal-list-table">
        <thead>
            <tr class="header">
             	<th>Project</th>
             	<th>Experiment</th>
                <th>Type</th>
                <th>Plan</th>
                <th>Num Crystals Present</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
        {% if experiments %}
            {% for experiment in experiments %}
                <tr class="{% cycle 'odd' 'even'%} link-row redirect"
                    title="Go to Experiment {{experiment.name}}"
                    href="{% url lims-experiment-detail experiment.pk %}">
                    <td>{{ experiment.project.name }}</td>
                    <td>{{ experiment.name }}</td>
                    <td>{{ experiment.get_kind_display }}</td>
                    <td>{{ experiment.get_plan_display }}</td>
                    <td>{{ experiment.crystal_set|in_runlist:object.containers }}/{{ experiment.num_crystals }}</td>
                    <td>{{ experiment.get_status_display }}</td>
                </tr>
            {% endfor %}
        {% else %}                
                <tr><td colspan="20" align="center" class="list-empty">(No experiments associated with this runlist)</td></tr>
        {% endif %}           
        </tbody>
    </table>
</div>
