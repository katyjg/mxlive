{% load objlist %}
{% ifequal page "shipment" %}
<div id="{{dewar.id}}" 
     class="dewar dewar-detail droppable droppable-add" 
     accept="container" 
     rel="{% url lims-dewar-detail dewar.id %}">
    <div class="title">
        <p class="dewar droppable droppable-add" 
            accept="container" 
            rel="{% url lims-dewar-detail dewar.id %}">
            <a class="dewar-title" href="{% url lims-dewar-detail dewar.id %}">{{ dewar.label }}</a>
            <a class="remove"
               rel="{% url lims-dewar-remove dewar.shipment.pk dewar.pk %}" 
               href="#"
               onclick="remove_item(this);"
               title="Remove dewar from shipment">&nbsp;</a>
        </p>        
    </div>
    {% if containers %}
    <ul class="dewar droppable droppable-add" 
     accept="container" 
     rel="{% url lims-dewar-detail dewar.id %}">
        {% for container in containers %}
            <li class="draggable-link-parent {{ container.json_dict.type}}">
                <a href="{% url lims-container-detail container.id %}">{{ container.name }}</a>
                <a class="remove"
                   rel="{% url lims-dewar-remove-container dewar.pk container.id %}"
                   href="#"
                   onclick="remove_item(this);"
                   title="Remove container from dewar"></a>
            </li>
        {% endfor %}
    </ul>
    {% else %}
        <p class="list-empty">( empty )</p>
    {% endif %}
</div>
{% endifequal %}

{% ifequal page "dewar" %}
<div class="object-list">
    <h3>Containers</h3>
    <table cellspacing="0" cellpadding="2" border="0" width="100%" id="crystal-list-table">
        <thead>
            <tr class="header">
                <th></th>
             	<th>Name</th>
                <th>Barcode</th>
           		<th>Capacity</th>
                <th># of Crystals</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% if containers %}
            {% for container in containers %}
                <tr class="{% cycle 'odd' 'even'%} link-row"
                    title="Go to Container {{container.pk}}">
                    <td class="redirect"
                        href="{% url lims-container-detail container.pk %}"><div class="{{ container.json_dict.type }}"></div></td>
                    <td class="redirect"
                        href="{% url lims-container-detail container.pk %}">{{ container.name }}</td>
                    <td class="redirect"
                        href="{% url lims-container-detail container.pk %}">
                        {% if container.code %}{{ container.code }}{% else %}Undefined{% endif %}
                    </td>
                    <td class="redirect"
                        href="{% url lims-container-detail container.pk %}">{{ container.capacity }}</td>
                    <td class="redirect"
                        href="{% url lims-container-detail container.pk %}">{{ container.num_crystals }}</td>
                    <td>
                        {% if not admin %}
                            <a class="remove"
                               rel="{% url lims-dewar-remove-container dewar.pk container.id %}"
                               href="#"
                               onclick="remove_item(this);"
                               title="Remove container from dewar"></a>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
            {% else %}
                <tr><td colspan="20" align="center" class="list-empty">( No containers in this dewar )</td></tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endifequal %}

