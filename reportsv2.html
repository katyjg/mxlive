

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Formatting Reports &mdash; MxLIVE 2020.05.246 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Models" href="modules/models.html" />
    <link rel="prev" title="Application Program Interfaces" href="apis.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MxLIVE
          

          
          </a>

          
            
            
              <div class="version">
                2020.05.246
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">For MX Users:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">On the Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="shipping.html">Shipments</a></li>
<li class="toctree-l1"><a class="reference internal" href="sessions.html">Sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Datasets &amp; Reports</a></li>
</ul>
<p class="caption"><span class="caption-text">For Beamline Staff:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="staff-dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="staff-dashboard.html#remote-connections">Remote Connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="staff-dashboard.html#accounts">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="staff-dashboard.html#detailed-lists">Detailed Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="staff-beamlines.html">Beamlines and Automounters</a></li>
<li class="toctree-l1"><a class="reference internal" href="staff-shipments.html">Managing Shipments</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduling.html">Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
</ul>
<p class="caption"><span class="caption-text">For Developers:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="apis.html">Application Program Interfaces</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Formatting Reports</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#section-options">Section Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#content-options">Content Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tables">Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bar-charts">Bar Charts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#column-charts">Column Charts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#histograms">Histograms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pie-charts">Pie Charts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scatter-plots">Scatter Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#line-plots">Line Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timelines">Timelines</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules/models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/views.html">Ajax Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MxLIVE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Formatting Reports</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="formatting-reports">
<span id="id1"></span><h1>Formatting Reports<a class="headerlink" href="#formatting-reports" title="Permalink to this headline">¶</a></h1>
<p>Analysis Reports are built dynamically based on information in the <cite>details</cite> JSONField, which is stored as a list of dictionaries.</p>
<p>Each dictionary in the list is treated as a Section in the report, with optional parameters. Sections are displayed in
order, and can be provided with a title, description (to go below the title), a list of dictionaries containing the
content (tables and/or plots) to display in the section, and notes to go after the content.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The original version of MxLIVE reports is documented in <a class="reference internal" href="reportsv1.html"><span class="doc">Reports</span></a>.</p>
</div>
<div class="section" id="section-options">
<h2>Section Options<a class="headerlink" href="#section-options" title="Permalink to this headline">¶</a></h2>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>&#39;title&#39;: &#39;&#39;,
&#39;description&#39;: &#39;&#39;,
&#39;notes&#39;: &#39;&#39;,
&#39;style&#39;: &#39;&#39;,        # CSS class to be applied to the section
&#39;content&#39;: []       # list of dictionaries, each one describing a table or plot to display
</pre></div>
</div>
</div>
<div class="section" id="content-options">
<h2>Content Options<a class="headerlink" href="#content-options" title="Permalink to this headline">¶</a></h2>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>&#39;title&#39;: &#39;&#39;,
&#39;description&#39;: &#39;&#39;,
&#39;notes&#39;: &#39;&#39;,
&#39;style&#39;: &#39;&#39;,        # CSS class to be applied to the content
&#39;kind&#39;: ,           # Supported types are &#39;barchart&#39;, &#39;columnchart&#39;, &#39;histogram&#39;, &#39;pie&#39;, &#39;scatterplot&#39;, &#39;lineplot&#39;, &#39;timeline&#39;
&#39;header&#39;: &#39;row&#39;,    # For tables only. Options are &#39;row&#39;, &#39;column&#39;, or &#39;column row&#39;
&#39;data&#39;:             # {} for plots / [] for tables
</pre></div>
</div>
<p>See sample tables, plots, and charts for detailed options. In general, colour definitions are optional.</p>
<div class="contents local topic" id="sample-report-items">
<p class="topic-title first">Sample Report Items</p>
<ul class="simple">
<li><p><a class="reference internal" href="#tables" id="id2">Tables</a></p></li>
<li><p><a class="reference internal" href="#bar-charts" id="id3">Bar Charts</a></p></li>
<li><p><a class="reference internal" href="#column-charts" id="id4">Column Charts</a></p></li>
<li><p><a class="reference internal" href="#histograms" id="id5">Histograms</a></p></li>
<li><p><a class="reference internal" href="#pie-charts" id="id6">Pie Charts</a></p></li>
<li><p><a class="reference internal" href="#scatter-plots" id="id7">Scatter Plots</a></p></li>
<li><p><a class="reference internal" href="#line-plots" id="id8">Line Plots</a></p></li>
<li><p><a class="reference internal" href="#timelines" id="id9">Timelines</a></p></li>
</ul>
</div>
<div class="section" id="tables">
<h3><a class="toc-backref" href="#id2">Tables</a><a class="headerlink" href="#tables" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
    &quot;title&quot;: &quot;Metrics Overview&quot;,
    &quot;style&quot;: &quot;row&quot;,
    &quot;content&quot;: [
    {
        &quot;title&quot;: &quot;Usage Statistics&quot;,
        &quot;kind&quot;: &quot;table&quot;,
        &quot;data&quot;: [[&quot;Year&quot;, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020],
                 [&quot;Users&quot;, 36, 28, 41, 44, 42, 54, 51, 67, 58, 31],
                 [&quot;New Users&quot;, 38, 12, 12, 6, 10, 14, 6, 26, 18, 1],
                 [&quot;Samples Measured&quot;, 555, 509, 1826, 2529, 5094, 7180, 10552, 12448, 17190, 9856],
                 [&quot;Sessions&quot;, 112, 73, 131, 149, 169, 184, 222, 205, 234, 102],
                 [&quot;Shifts Used&quot;, 434, 428, 598, 588, 674, 771, 727, 593, 726, 319],
                 [&quot;Usage Efficiency\u00b2 (%)&quot;, &quot;27%&quot;, &quot;32%&quot;, &quot;29%&quot;, &quot;29%&quot;, &quot;28%&quot;, &quot;26%&quot;, &quot;29%&quot;, &quot;45%&quot;, &quot;42%&quot;, &quot;30%&quot;],
                 [&quot;Datasets\u00b3 Collected&quot;, 2939, 3046, 4866, 5265, 6737, 8313, 14942, 12637, 17289, 9930],
                 [&quot;Minutes/Dataset\u00b3&quot;, &quot;9.0&quot;, &quot;9.9&quot;, &quot;9.0&quot;, &quot;7.7&quot;, &quot;6.7&quot;, &quot;5.6&quot;, &quot;1.8&quot;, &quot;1.4&quot;, &quot;1.6&quot;, &quot;1.4&quot;],
                 [&quot;Datasets\u00b3/Hour&quot;, &quot;6.7&quot;, &quot;6.0&quot;, &quot;6.7&quot;, &quot;7.8&quot;, &quot;9.0&quot;, &quot;10.6&quot;, &quot;33.3&quot;, &quot;42.8&quot;, &quot;37.6&quot;, &quot;44.3&quot;],
                 [&quot;Average Exposure (sec)&quot;, &quot;1.09&quot;, &quot;1.11&quot;, &quot;1.28&quot;, &quot;1.62&quot;, &quot;1.56&quot;, &quot;1.72&quot;, &quot;0.93&quot;, &quot;0.92&quot;, &quot;1.03&quot;, &quot;0.79&quot;],
                 [&quot;Samples/Dataset\u00b3&quot;, &quot;0.2&quot;, &quot;0.2&quot;, &quot;0.4&quot;, &quot;0.5&quot;, &quot;0.8&quot;, &quot;0.9&quot;, &quot;0.7&quot;, &quot;1.0&quot;, &quot;1.0&quot;, &quot;1.0&quot;]],
        &quot;style&quot;: &quot;col-12&quot;,
        &quot;header&quot;: &quot;column row&quot;,
        &quot;description&quot;: &quot;Summary of time, datasets and usage statistics&quot;,
        &quot;notes&quot;: &quot; 1. Time Used is the number of hours an active session was running on the beamline.  \n
                   2. Usage efficiency is the percentage of used shifts during which a session was active.  \n
                   3. All datasets are considered for this statistic irrespective of dataset type.&quot;
    },
}
</pre></div>
</div>
<img alt="Table" class="align-center" src="_images/report-table.png" />
</div>
<div class="section" id="bar-charts">
<h3><a class="toc-backref" href="#id3">Bar Charts</a><a class="headerlink" href="#bar-charts" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
    &quot;title&quot;: &quot;Datasets&quot;,
    &quot;kind&quot;: &quot;barchart&quot;,
    &quot;data&quot;: {
        &quot;x-label&quot;: &quot;User&quot;,
        &quot;aspect-ratio&quot;: 0.7,
        &quot;color-by&quot;: &quot;Type&quot;,
        &quot;colors&quot;: {&quot;Student&quot;: &quot;#073B4C&quot;, &quot;Staff&quot;: &quot;#06D6A0&quot;, &quot;Industry&quot;: &quot;#FFD166&quot;, &quot;Commissioning&quot;: &quot;#EF476F&quot;, &quot;Academic&quot;: &quot;#118AB2&quot;},
        &quot;data&quot;: [
            {&quot;User&quot;: &quot;someone&quot;, &quot;Datasets&quot;: 10303, &quot;Type&quot;: &quot;Academic&quot;},
            ...
            {&quot;User&quot;: &quot;someone else&quot;, &quot;Datasets&quot;: 553, &quot;Type&quot;: &quot;Staff&quot;}
        ]
    },
    &quot;notes&quot;: &quot;Dataset counts include all types of datasets. Only the top 30 users by number of datasets are shown&quot;,
    &quot;style&quot;: &quot;col-12 col-md-4&quot;
}
</pre></div>
</div>
<img alt="Bar Chart" class="align-center" src="_images/report-barchart.png" />
</div>
<div class="section" id="column-charts">
<h3><a class="toc-backref" href="#id4">Column Charts</a><a class="headerlink" href="#column-charts" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
    &quot;title&quot;: &quot;Beamtime access type shifts by year&quot;,
    &quot;kind&quot;: &quot;columnchart&quot;,
    &quot;data&quot;: {
        &quot;x-label&quot;: &quot;Year&quot;,
        &quot;stack&quot;: [[&quot;Local&quot;, &quot;Mail-In&quot;, &quot;Remote&quot;]],
        &quot;data&quot;: [
            {&quot;Year&quot;: 2010, &quot;Local&quot;: 8.0, &quot;Mail-In&quot;: 0, &quot;Remote&quot;: 0},
            {&quot;Year&quot;: 2011, &quot;Local&quot;: 380.0, &quot;Mail-In&quot;: 0, &quot;Remote&quot;: 0},
            ...,
            {&quot;Year&quot;: 2019, &quot;Remote&quot;: 192.0, &quot;Mail-In&quot;: 76.0, &quot;Local&quot;: 119.0},
            {&quot;Year&quot;: 2020, &quot;Local&quot;: 63.0, &quot;Mail-In&quot;: 42.0, &quot;Remote&quot;: 79.0}
        ],
        &quot;colors&quot;: {&quot;Local&quot;: &quot;#FFC107&quot;, &quot;Mail-In&quot;: &quot;#8F3A84&quot;, &quot;Remote&quot;: &quot;#17A2B8&quot;}
    },
    &quot;style&quot;: &quot;col-12 col-md-6&quot;
}
</pre></div>
</div>
<img alt="Column Chart" class="align-center" src="_images/report-columnchart.png" />
</div>
<div class="section" id="histograms">
<h3><a class="toc-backref" href="#id5">Histograms</a><a class="headerlink" href="#histograms" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
    &quot;title&quot;: &quot;Analysis Report Score&quot;,
    &quot;kind&quot;: &quot;histogram&quot;,
    &quot;data&quot;: {
        &quot;data&quot;: [
            {&quot;x&quot;: 0.03152173913043478, &quot;y&quot;: 677},
            {&quot;x&quot;: 0.07456521739130434, &quot;y&quot;: 701},
            .....
            {&quot;x&quot;: 0.9354347826086957, &quot;y&quot;: 113},
            {&quot;x&quot;: 0.9784782608695652, &quot;y&quot;: 0}
        ]
    },
    &quot;style&quot;: &quot;col-12&quot;
}
</pre></div>
</div>
<img alt="Histogram" class="align-center" src="_images/report-histogram.png" />
</div>
<div class="section" id="pie-charts">
<h3><a class="toc-backref" href="#id6">Pie Charts</a><a class="headerlink" href="#pie-charts" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
    &quot;title&quot;: &quot;Beamtime by access type&quot;,
    &quot;kind&quot;: &quot;pie&quot;,
    &quot;data&quot;: {
        &quot;colors&quot;: &quot;Live16&quot;,
        &quot;data&quot;: [
            {&quot;label&quot;: &quot;Local&quot;, &quot;value&quot;: 2431.0, &quot;color&quot;: &quot;#FFC107&quot;},
            {&quot;label&quot;: &quot;Mail-In&quot;, &quot;value&quot;: 514.0, &quot;color&quot;: &quot;#8F3A84&quot;},
            {&quot;label&quot;: &quot;Remote&quot;, &quot;value&quot;: 1511.0, &quot;color&quot;: &quot;#17A2B8&quot;}
        ]
    },
    &quot;style&quot;: &quot;col-12 col-md-6&quot;
}
</pre></div>
</div>
<img alt="Pie Chart" class="align-center" src="_images/report-piechart.png" />
</div>
<div class="section" id="scatter-plots">
<h3><a class="toc-backref" href="#id7">Scatter Plots</a><a class="headerlink" href="#scatter-plots" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
    &quot;kind&quot;: &quot;scatterplot&quot;,
    &quot;data&quot;: {
        &quot;y1&quot;: [[&quot;Scale Factor&quot;, 1.028, 1.028, ..., 1.037, 1.037]],
        &quot;x&quot;: [&quot;Frame Number&quot;, 1, 2, ..., 719, 720],
        &quot;y2&quot;: [[&quot;Mosaicity&quot;, 0.17342, 0.18236, ..., 0.18954, 0.19437]]
    },
    &quot;style&quot;: &quot;half-height&quot;
}
</pre></div>
</div>
<img alt="Scatter Plot" class="align-center" src="_images/report-scatterplot.png" />
</div>
<div class="section" id="line-plots">
<h3><a class="toc-backref" href="#id8">Line Plots</a><a class="headerlink" href="#line-plots" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
    &quot;title&quot;: &quot;MAD Scan&quot;,
    &quot;kind&quot;: &quot;lineplot&quot;,
    &quot;data&quot;: {
        &quot;x&quot;: [&quot;Energy (keV)&quot;, 12.5567, 12.5847, ..., 12.7167, 12.7287],
        &quot;y1&quot;: [[&quot;Experiment&quot;, 154, 145, ..., 6386, 6290]],
        &quot;y2&quot;: [[&quot;f`&quot;, -4.13, -4.34, ..., 3.51, 3.46]],
        &quot;x-label&quot;: &quot;Energy (keV)&quot;,
        &quot;y1-label&quot;: &quot;Fluorescence&quot;,
        &quot;y2-label&quot;: &quot;Anomalous Scattering Factors&quot;,
        &quot;aspect-ratio&quot;: 1.5,
        &quot;annotations&quot;: [
            {&quot;value&quot;: 12.662700000000001, &quot;text&quot;: &quot;PEAK&quot;},
            {&quot;value&quot;: 12.6597, &quot;text&quot;: &quot;INFL&quot;},
            {&quot;value&quot;: 12.7287002, &quot;text&quot;: &quot;REMO&quot;}
        ]
    },
    &quot;id&quot;: &quot;mad&quot;,
    &quot;style&quot;: &quot;col-12&quot;
}
</pre></div>
</div>
<img alt="Line Plot" class="align-center" src="_images/report-lineplot.png" />
</div>
<div class="section" id="timelines">
<h3><a class="toc-backref" href="#id9">Timelines</a><a class="headerlink" href="#timelines" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
    &quot;title&quot;: &#39;Session Timeline&#39;,
    &#39;kind&#39;: &#39;timeline&#39;,
    &#39;start&#39;: 1583360100000,
    &#39;end&#39;: 1583418044000,
    &#39;data&#39;: [
        {&#39;type&#39;: &#39;MAD Scan&#39;, &#39;start&#39;: 1583362067000, &#39;end&#39;: 1583362117000, &#39;label&#39;: &#39;MAD Scan: 000000-1111&#39;},
        ...,
        {&#39;type&#39;: &#39;MX Screening&#39;, &#39;start&#39;: 1583389899000, &#39;end&#39;: 1583389905000, &#39;label&#39;: &#39;MX Screening: TEST-02-screen&#39;},
        {&#39;type&#39;: &#39;MX Dataset&#39;, &#39;start&#39;: 1583365013000, &#39;end&#39;: 1583365193000, &#39;label&#39;: &#39;MX Dataset: TEST-02&#39;},
        ...,
        {&#39;type&#39;: &#39;MX Dataset&#39;, &#39;start&#39;: 1583367894000, &#39;end&#39;: 1583368141000, &#39;label&#39;: &#39;MX Dataset: Sim-01&#39;},
        {&#39;type&#39;: &#39;MX Dataset&#39;, &#39;start&#39;: 1583386783000, &#39;end&#39;: 1583386807000, &#39;label&#39;: &#39;MX Dataset: Sim-02&#39;}
    ],
    &#39;style&#39;: &#39;col-12&#39;
}
</pre></div>
</div>
<img alt="Timeline" class="align-center" src="_images/report-timeline.png" />
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules/models.html" class="btn btn-neutral float-right" title="Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="apis.html" class="btn btn-neutral float-left" title="Application Program Interfaces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2020, Canadian Light Source, Inc

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>